<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Causal Machine Learning for Segment Discovery and Analysis • sherlock</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Causal Machine Learning for Segment Discovery and Analysis">
<meta property="og:description" content="Population segment discovery and analysis using state-of-the-art,
    doubly robust estimation techniques rooted in causal inference and machine
    learning. Using data from randomized A/B experiments or quasi-experiments
    (observational studies), a set of candidate segmentation variables are used
    to discover segments of the study population based on estimated treatment
    response heterogeneity, characterized by the conditional average treatment
    effect.  Implemented procedures for estimation of the conditional average
    treatment effect incorporate ensemble machine learning (or the users
    choice of regression algorithms) via the Super Learner ensemble modeling
    procedure in sl3, available for download from GitHub using
    remotes::install_github(&quot;tlverse/sl3&quot;)'.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sherlock</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/sherlock_quick_start_netflix.html">`sherlock`: Causal Machine Learning for Segment Discovery</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="sherlock" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sherlock" class="anchor"></a><code>sherlock</code>
</h1></div>
<!-- badges: start -->

<blockquote>
<p>Causal Machine Learning for Population Segment Discovery and Analysis</p>
</blockquote>
<p><strong>Authors:</strong> <a href="https://nimahejazi.org">Nima Hejazi</a> and <a href="https://www.linkedin.com/in/wenjing-zheng/">Wenjing Zheng</a></p>
<hr>
<div id="causal-segmentation-analysis-with-sherlock" class="section level2">
<h2 class="hasAnchor">
<a href="#causal-segmentation-analysis-with-sherlock" class="anchor"></a>Causal Segmentation Analysis with <code>sherlock</code>
</h2>
<p>The <code>sherlock</code> R package implements an approach for population segmentation analysis (or subgroup discovery) using recently developed techniques from causal machine learning. Using data from randomized A/B experiments or observational studies (quasi-experiments), <code>sherlock</code> takes as input a set of user-selected candidate segment dimensions – often, a subset of measured pre-treatment covariates – to discover particular segments of the study population based on the estimated heterogeneity of their response to the treatment under consideration. In order to quantify this treatment response heterogeneity, the <em>conditional average treatment effect</em> (CATE) is estimated using a nonparametric, doubly robust framework (Vanderweele et al. 2019; van der Laan and Luedtke 2015; Luedtke and van der Laan 2016b, 2016a), incorporating state-of-the-art ensemble machine learning (van der Laan, Polley, and Hubbard 2007; Coyle et al. 2021) in the estimation procedure.</p>
<p>For background and details on using <code>sherlock</code>, see the package vignette. For an overview of the statistical methodology, see our <a href="https://arxiv.org/abs/2111.01223">conference manuscript</a> (Hejazi, Zheng, and Anand 2021) from <a href="https://ide.mit.edu/events/2021-conference-on-digital-experimentation-mit-codemit/">CODE @ MIT 2021</a>.</p>
<hr>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the <em>most recent version</em> from the <code>master</code> branch on GitHub via <a href="https://CRAN.R-project.org/package=remotes"><code>remotes</code></a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"Netflix/sherlock"</span><span class="op">)</span></code></pre></div>
<!--
Eventually, the package will make its way to [CRAN](https://CRAN.R-project.org).
At that point, a stable version may be installed via


```r
install.packages("sherlock")
```
-->
<hr>
</div>
<div id="issues" class="section level2">
<h2 class="hasAnchor">
<a href="#issues" class="anchor"></a>Issues</h2>
<p>If you encounter any bugs or have any specific feature requests, please <a href="https://github.com/Netflix/sherlock/issues">file an issue</a>.</p>
<hr>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>After using the <code>sherlock</code> R package, please cite the following:</p>
<pre><code>    @software{netflix2021sherlock,
      author={Hejazi, Nima S and Zheng, Wenjing and {Netflix, Inc.}},
      title = {{sherlock}: Causal machine learning for segment discovery
        and analysis},
      year  = {2021},
      note = {R package version 0.2.0},
      doi = {10.5281/zenodo.5652010},
      url = {https://github.com/Netflix/sherlock}
    }

    @article{hejazi2021framework,
      author = {Hejazi, Nima S and Zheng, Wenjing and Anand, Sathya},
      title = {A framework for causal segmentation analysis with machine
        learning in large-scale digital experiments},
      year = {2021},
      journal = {Conference on Digital Experimentation at {MIT}},
      volume = {(8\textsuperscript{th} annual)},
      publisher = {MIT Press},
      url = {https://arxiv.org/abs/2111.01223}
    }</code></pre>
<hr>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>The contents of this repository are distributed under the Apache 2.0 license. See file <a href="https://github.com/Netflix/sherlock/blob/master/LICENSE.md"><code>LICENSE.md</code></a> for details.</p>
<hr>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-coyle2021sl3">
<p>Coyle, Jeremy R, Nima S Hejazi, Ivana Malenica, Rachael V Phillips, and Oleg Sofrygin. 2021. <em>sl3: Modern Pipelines for Machine Learning and Super Learning</em>. <a href="https://doi.org/10.5281/zenodo.1342293" class="uri">https://doi.org/10.5281/zenodo.1342293</a>.</p>
</div>
<div id="ref-hejazi2021framework">
<p>Hejazi, Nima S, Wenjing Zheng, and Sathya Anand. 2021. “A Framework for Causal Segmentation Analysis with Machine Learning in Large-Scale Digital Experiments.” <em>Conference on Digital Experimentation at MIT</em> (8<sup>th</sup> annual). <a href="https://arxiv.org/abs/2111.01223" class="uri">https://arxiv.org/abs/2111.01223</a>.</p>
</div>
<div id="ref-Luedtke16b">
<p>Luedtke, Alex, and Mark van der Laan. 2016a. “Optimal Individualized Treatments in Resource-Limited Settings.” <em>International Journal of Biostatistics</em> 12 (1): 283–303. <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6052884/" class="uri">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6052884/</a>.</p>
</div>
<div id="ref-Luedtke16a">
<p>———. 2016b. “Super-Learning of an Optimal Dynamic Treatment Rule.” <em>International Journal of Biostatistics</em> 12 (1): 305–32. <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6056197/" class="uri">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6056197/</a>.</p>
</div>
<div id="ref-vdl2007super">
<p>van der Laan, Mark J, Eric C Polley, and Alan E Hubbard. 2007. “Super Learner.” <em>Statistical Applications in Genetics and Molecular Biology</em> 6 (1).</p>
</div>
<div id="ref-vdL15">
<p>van der Laan, Mark, and Alex Luedtke. 2015. “Targeted Learning of the Mean Outcome Under an Optimal Dynamic Treatment Rule.” <em>Journal of Causal Inference</em> 3 (1): 61–95. <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4517487/" class="uri">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4517487/</a>.</p>
</div>
<div id="ref-vanderweele19">
<p>Vanderweele, Tyler, Alex Luedtke, Mark van der Laan, and Ronald Kessler.</p>
<ol>
<li>“Selecting Optimal Subgroups for Treatment Using Many Covariates.” <em>Epidemiology</em> 30 (3): 334–41. <a href="https://journals.lww.com/epidem/Fulltext/2019/05000/Selecting_Optimal_Subgroups_for_Treatment_Using.5.aspx" class="uri">https://journals.lww.com/epidem/Fulltext/2019/05000/Selecting_Optimal_Subgroups_for_Treatment_Using.5.aspx</a>.</li>
</ol>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2)</small></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing sherlock</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Nima Hejazi <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7127-2789" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Wenjing Zheng <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6584-1359" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Netflix, Inc. <br><small class="roles"> Funder, copyright holder </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Netflix/sherlock/actions"><img src="https://github.com/Netflix/sherlock/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/github/Netflix/sherlock?branch=master"><img src="https://img.shields.io/codecov/c/github/Netflix/sherlock/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.5652010"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5652010.svg" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Nima Hejazi, Wenjing Zheng, Netflix, Inc..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
